"use strict";var PageNo=1,flag=!0,list=[];function getList(){$.ajax({url:"../lib/list.json",data:{totalPage:3,pageNo:1,pageSize:20},dataType:"json",success:function(t){console.log(t),bindHtml(t.data.pageList),flag&&bindPagi(t.data.totalPage),list=t.data.pageList,console.log(list)}})}function bindHtml(t){var a="";t.forEach(function(t){a+='\n          <li data-id="'.concat(t.productId,'">\n            <img src="').concat(t.image,'" alt="">\n            <p>').concat(t.name,"</p>\n            <span>￥").concat(t.salePrice,"</span>\n            \n          </li>\n        ")}),$(".goodsList > ul").html(a)}function bindPagi(t){flag=!1,$(".pagi").pagination({pageCount:1,current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(t){PageNo=t.getCurrent(),getList()}})}getList(),$(".goodsList > ul").on("click","li",function(){console.log(this);for(var t=$(this).data("id"),a=null,n=0;n<list.length;n++)if(list[n].productId===t){a=list[n];break}console.log(a),localStorage.setItem("goodsInfo",JSON.stringify(a)),window.location.href="./detail.html"});